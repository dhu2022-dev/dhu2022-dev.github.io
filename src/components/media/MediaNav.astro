---
const pathname = Astro.url.pathname;

const tabs = [
  { href: "/outside/media/", label: "Media" },
  { href: "/outside/media/movies/", label: "Movies" },
  { href: "/outside/media/tv/", label: "TV" },
  { href: "/outside/media/books/", label: "Books" },
];

const isActive = (href) => (href === "/outside/media/" ? pathname === href : pathname.startsWith(href));
---

<nav class="mediaNav">
  {tabs.map((t) => (
    <a
      href={t.href}
      class={isActive(t.href) ? "navTab navTabActive" : "navTab"}
    >
      {t.label}
    </a>
  ))}
</nav>

<style>
  .mediaNav {
    display: flex;
    gap: var(--spacing-md);
    flex-wrap: wrap;
    margin-top: var(--spacing-lg);
  }
  .navTab {
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-full);
    border: 1px solid var(--color-border);
    text-decoration: none;
    background: var(--color-bg);
    color: var(--color-text);
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    transition: background var(--transition-base), border-color var(--transition-base), color var(--transition-base);
  }
  .navTab:hover {
    background: #f5f5f5;
    border-color: var(--color-border-hover);
  }
  
  .navTabActive {
    background: #111;
    color: #fff;
    border-color: #111;
  }
  
  .navTabActive:hover {
    background: #111;
  }
  
  @media (prefers-color-scheme: dark) {
    .navTab:hover {
      background: #2a2a2a;
    }
    
    .navTabActive {
      background: #fff;
      color: #111;
      border-color: #fff;
    }
    
    .navTabActive:hover {
      background: #fff;
    }
  }
</style>
